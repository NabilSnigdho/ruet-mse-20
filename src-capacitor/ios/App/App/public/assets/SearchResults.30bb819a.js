import{u as w,c as k,Q as v}from"./use-router-link.44e85f1c.js";import{c as C,f as N}from"./render.529bf2b7.js";import{c as g,h as _,_ as Q,z as b,A as u,B as d,C as t,Y as z,D as r,F as i,G as p,I as y,J as U,L as h,K as $,E as x,a2 as B}from"./index.a3a70c5f.js";import{b as L,Q as f,c as I}from"./QList.8232a63b.js";import{Q as S}from"./QItemLabel.b5897615.js";import{Q as P}from"./QPage.899d595a.js";import{_ as F}from"./AvatarPlaceholder.d2cbf2c9.js";import{s as V}from"./students.e94d2f41.js";import{s as A}from"./search.8c4d5803.js";var E=C({name:"QAvatar",props:{...w,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:c}){const o=k(e),s=g(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),a=g(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const l=e.icon!==void 0?[_(v,{name:e.icon})]:void 0;return _("div",{class:s.value,style:o.value},[_("div",{class:"q-avatar__content row flex-center overflow-hidden",style:a.value},N(c.default,l))])}}});const R=(e,c)=>(e=e.replace(new RegExp("((?<![\\p{Uppercase_Letter}\\d])[\\p{Uppercase_Letter}\\d](?![\\p{Uppercase_Letter}\\d]))","gu"),o=>o.toLowerCase()),e.replace(/(\p{Uppercase_Letter}+)(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,(o,s,a)=>s+c+a.toLowerCase()));function T(e,{separator:c="_",preserveConsecutiveUppercase:o=!1}={}){if(!(typeof e=="string"&&typeof c=="string"))throw new TypeError("The `text` and `separator` arguments should be of type `string`");if(e.length<2)return o?e:e.toLowerCase();const s=`$1${c}$2`,a=e.replace(/([\p{Lowercase_Letter}\d])(\p{Uppercase_Letter})/gu,s);return o?R(a,c):a.replace(/(\p{Uppercase_Letter})(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,s).toLowerCase()}const j={id:"fake-searchbar"},D=["alt","src"],G=b({__name:"SearchResults",props:{query:null},setup(e){const c=e,o=g(()=>A(c.query).map(s=>{const a=V[s.id-1],l=[...Object.values(s.match).reduce((n,m)=>{for(const q of m)n.add(q);return n},new Set)];return{id:a.id,noPhoto:a.noPhoto,fullName:a.fullName,shortName:a.shortName,matchedFields:l}}));return(s,a)=>{const l=B("router-link");return u(),d(P,{padding:""},{default:t(()=>[z("div",j,[r(l,{to:{name:"search",query:{init_query:e.query}},class:"fake-search-input"},{default:t(()=>[i(p(e.query),1)]),_:1},8,["to"]),r(l,{to:"/search",class:"fake-search-reset"},{default:t(()=>[r(v,{name:"fa-solid fa-close"})]),_:1})]),r(I,null,{default:t(()=>[(u(!0),y($,null,U(h(o),n=>(u(),d(L,{key:n.id,clickable:"",to:`/${n.id}`},{default:t(()=>[r(f,{avatar:""},{default:t(()=>[r(E,{square:""},{default:t(()=>[n.noPhoto?(u(),d(F,{key:0})):(u(),y("img",{key:1,alt:"photo of "+n.shortName,src:`/photos/${n.id}.webp`},null,8,D))]),_:2},1024)]),_:2},1024),r(f,null,{default:t(()=>[r(S,null,{default:t(()=>[i(p(n.fullName),1)]),_:2},1024),r(S,{caption:""},{default:t(()=>[i("matches: "+p(n.matchedFields.map(m=>h(T)(m,{separator:" "})).join(", ")),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128)),h(o).length?x("",!0):(u(),d(L,{key:0},{default:t(()=>[r(f,{avatar:""},{default:t(()=>[r(v,{name:"fa-regular fa-face-meh"})]),_:1}),r(f,null,{default:t(()=>[i("No result found.")]),_:1})]),_:1}))]),_:1})]),_:1})}}});var ee=Q(G,[["__scopeId","data-v-baa9ddf6"]]);export{ee as default};
